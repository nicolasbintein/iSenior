{"ast":null,"code":"var _jsxFileName = \"/Users/macbookprom1/Desktop/SeniorGPT/frontend/src/components/Appointments.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport '../styles/views.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Appointments() {\n  _s();\n  const [events, setEvents] = useState([]);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchAppointments = async () => {\n      try {\n        const response = await fetch('http://127.0.0.1:8000/appointments/', {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        if (!response.ok) throw new Error('Erreur lors de la récupération des rendez-vous');\n        const data = await response.json();\n        const formattedEvents = data.map(appointment => ({\n          title: `${appointment.resident_name} - ${appointment.reason}`,\n          start: `${appointment.date}T${appointment.time}`,\n          allDay: false\n        }));\n        setEvents(formattedEvents);\n      } catch (err) {\n        console.error(err.message);\n      }\n    };\n    fetchAppointments();\n  }, []);\n  const handleDateClick = arg => {\n    navigate(`/add-appointment?date=${arg.dateStr}`);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"appointments-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Rendez-vous\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigate('/add-appointment'),\n      className: \"add-appointment-button\",\n      children: \"Ajouter un Rendez-vous\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FullCalendar, {\n      plugins: [dayGridPlugin, interactionPlugin],\n      initialView: \"dayGridMonth\",\n      events: events,\n      dateClick: handleDateClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n_s(Appointments, \"agCrRaRkxpwnLGNy5tzIH8WzeY8=\", false, function () {\n  return [useNavigate];\n});\n_c = Appointments;\nexport default Appointments;\nvar _c;\n$RefreshReg$(_c, \"Appointments\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","FullCalendar","dayGridPlugin","interactionPlugin","jsxDEV","_jsxDEV","Appointments","_s","events","setEvents","navigate","fetchAppointments","response","fetch","method","headers","ok","Error","data","json","formattedEvents","map","appointment","title","resident_name","reason","start","date","time","allDay","err","console","error","message","handleDateClick","arg","dateStr","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","plugins","initialView","dateClick","_c","$RefreshReg$"],"sources":["/Users/macbookprom1/Desktop/SeniorGPT/frontend/src/components/Appointments.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport '../styles/views.css';\n\nfunction Appointments() {\n  const [events, setEvents] = useState([]);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchAppointments = async () => {\n      try {\n        const response = await fetch('http://127.0.0.1:8000/appointments/', {\n          method: 'GET',\n          headers: { 'Content-Type': 'application/json' },\n        });\n        if (!response.ok) throw new Error('Erreur lors de la récupération des rendez-vous');\n        const data = await response.json();\n        const formattedEvents = data.map((appointment) => ({\n          title: `${appointment.resident_name} - ${appointment.reason}`,\n          start: `${appointment.date}T${appointment.time}`,\n          allDay: false,\n        }));\n        setEvents(formattedEvents);\n      } catch (err) {\n        console.error(err.message);\n      }\n    };\n    fetchAppointments();\n  }, []);\n\n  const handleDateClick = (arg) => {\n    navigate(`/add-appointment?date=${arg.dateStr}`);\n  };\n\n  return (\n    <div className=\"appointments-container\">\n      <h2>Rendez-vous</h2>\n      {/* Remplace l'icône par un bouton */}\n      <button\n        onClick={() => navigate('/add-appointment')}\n        className=\"add-appointment-button\"\n      >\n        Ajouter un Rendez-vous\n      </button>\n      <FullCalendar\n        plugins={[dayGridPlugin, interactionPlugin]}\n        initialView=\"dayGridMonth\"\n        events={events}\n        dateClick={handleDateClick}\n      />\n    </div>\n  );\n}\n\nexport default Appointments;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,YAAY,MAAM,qBAAqB;AAC9C,OAAOC,aAAa,MAAM,uBAAuB;AACjD,OAAOC,iBAAiB,MAAM,2BAA2B;AACzD,OAAO,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7B,SAASC,YAAYA,CAAA,EAAG;EAAAC,EAAA;EACtB,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAMY,QAAQ,GAAGV,WAAW,CAAC,CAAC;EAE9BD,SAAS,CAAC,MAAM;IACd,MAAMY,iBAAiB,GAAG,MAAAA,CAAA,KAAY;MACpC,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,qCAAqC,EAAE;UAClEC,MAAM,EAAE,KAAK;UACbC,OAAO,EAAE;YAAE,cAAc,EAAE;UAAmB;QAChD,CAAC,CAAC;QACF,IAAI,CAACH,QAAQ,CAACI,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,gDAAgD,CAAC;QACnF,MAAMC,IAAI,GAAG,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;QAClC,MAAMC,eAAe,GAAGF,IAAI,CAACG,GAAG,CAAEC,WAAW,KAAM;UACjDC,KAAK,EAAE,GAAGD,WAAW,CAACE,aAAa,MAAMF,WAAW,CAACG,MAAM,EAAE;UAC7DC,KAAK,EAAE,GAAGJ,WAAW,CAACK,IAAI,IAAIL,WAAW,CAACM,IAAI,EAAE;UAChDC,MAAM,EAAE;QACV,CAAC,CAAC,CAAC;QACHpB,SAAS,CAACW,eAAe,CAAC;MAC5B,CAAC,CAAC,OAAOU,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAACG,OAAO,CAAC;MAC5B;IACF,CAAC;IACDtB,iBAAiB,CAAC,CAAC;EACrB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMuB,eAAe,GAAIC,GAAG,IAAK;IAC/BzB,QAAQ,CAAC,yBAAyByB,GAAG,CAACC,OAAO,EAAE,CAAC;EAClD,CAAC;EAED,oBACE/B,OAAA;IAAKgC,SAAS,EAAC,wBAAwB;IAAAC,QAAA,gBACrCjC,OAAA;MAAAiC,QAAA,EAAI;IAAW;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAEpBrC,OAAA;MACEsC,OAAO,EAAEA,CAAA,KAAMjC,QAAQ,CAAC,kBAAkB,CAAE;MAC5C2B,SAAS,EAAC,wBAAwB;MAAAC,QAAA,EACnC;IAED;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACTrC,OAAA,CAACJ,YAAY;MACX2C,OAAO,EAAE,CAAC1C,aAAa,EAAEC,iBAAiB,CAAE;MAC5C0C,WAAW,EAAC,cAAc;MAC1BrC,MAAM,EAAEA,MAAO;MACfsC,SAAS,EAAEZ;IAAgB;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5B,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV;AAACnC,EAAA,CAhDQD,YAAY;EAAA,QAEFN,WAAW;AAAA;AAAA+C,EAAA,GAFrBzC,YAAY;AAkDrB,eAAeA,YAAY;AAAC,IAAAyC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}